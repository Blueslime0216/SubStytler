전체적으로 체계적으로 정리된 문서인데, 몇 가지 개선하면 더 명확하고 구현하기 쉬워질 것 같아. 수정 및 개선된 설계 문서를 아래에 정리했어. 

### **주요 개선 사항**  
1. **속성 중복 정리**  
   - `size` 속성이 `Border`에 두 번 존재했음 → 중복 제거  
   - `main`, `sub` 속성 설명을 명확하게 수정  
   
2. **설계 명확화**  
   - `temp_` 속성의 목적을 구체적으로 설명  
   - `border_thickness_size` 단위 변환 방식 강조  
   - `Join` 동작 방식에서 조건과 결과를 더 명확히 정의  
   
3. **모서리 드래그 방식 일관성 강화**  
   - `Alt` + 내부 드래그 → `Ctrl` + 내부 드래그로 통일  
   - `Ctrl` + 외부 드래그 방식 추가  

---

## **🛠 개선된 Area UI 시스템 설계 (TypeScript + Vite)**  
👉 **모든 Area는 `div` 요소로만 구성되며, `border` 조작을 통해 크기 조절, 분할, 합치기를 구현한다.**  

---

## **1. 영역(Area)과 경계선(Border) 구조**  
### ✅ **기본 구조**  
- 각 Area는 **고유 ID를 가진 `div` 요소** (예: abcdefgh12345678)  
- ID 형식: 16자리 랜덤 문자열  
- Area와 Area 사이에는 **수직/수평 경계선(Border)** 배치  

### ✅ **역할별 요소**  
| 요소 | 설명 |
|------|------|
| **영역(Area)** | `div` 요소로 생성, `border`만 표시 |
| **경계선(Border)** | `수직(Vertical)` / `수평(Horizontal)` 구분하여 배치 |

---

### ✅ **Area 속성**  
| 속성 | 설명 |
|------|------|
| **id** | 해당 Area의 고유 ID |
| **x, y** | Area의 좌상단 좌표 (0~100 vw, vh) |
| **width, height** | Area의 너비 및 높이 (0~100 vw, vh) |
| **temp_x, temp_y** | 크기 조절 중 임시 적용되는 좌표값 |
| **temp_width, temp_height** | 크기 조절 중 임시 적용되는 크기값 |
| **is_resizable** | 크기 조절 가능 여부 |
| **is_splitable** | 분할 가능 여부 |
| **is_joinable** | 합치기 가능 여부 |

> **참고**  
> - `x, y, width, height` 값은 `vw, vh` 단위로 변환하여 적용  
> - `temp_` 속성은 크기 조절 취소 시 삭제되며, 완료되면 기존 속성에 적용  
> - `workState` 변수로 현재 조작 상태(크기 조절, 분할, 합치기 등) 관리  

---

### ✅ **Border 속성**  
| 속성 | 설명 |
|------|------|
| **id** | 해당 Border의 고유 ID |
| **direction** | `Vertical` 또는 `Horizontal` 값 |
| **x, y** | Border의 좌표 (vw, vh 단위) |
| **size** | Border의 크기 (`border_thickness_size` 적용) |
| **temp_x, temp_y, temp_size** | 크기 조절 중 임시 적용되는 값 |
| **area_a, area_b** | 인접한 Area ID (좌/우 또는 상/하) |
| **main, sub** | 크기 조절 시 주체(`main`)와 비주체(`sub`) 영역 |

> **참고**  
> - `border_thickness_size` 전역 변수로 두께(px 단위) 관리  
> - `temp_` 속성은 크기 조절 취소 시 삭제, 완료되면 기존 값에 적용  

---

## **2. 영역 크기 조절 (Resizable Borders)**  
### ✅ **동작 방식**  
1. **마우스가 경계선 위에 올라가면 커서 변경 (`↔` / `↕`)**  
2. **드래그하면 인접한 두 Area 크기 조정**  

### ✅ **크기 조절 매커니즘**  
1. `is_resizable`이 `true`일 때만 크기 조절 가능  
2. `workState = "area_resize_mode"`로 변경  
3. `main`과 `sub` 영역을 파악하여 조정 방향 결정  
4. 인접한 영역 크기를 마우스 드래그한 거리(px)만큼 조정  
5. 동일한 축을 공유하는 다른 Border도 함께 이동  
6. 드래그 종료 시  
   - `workState = "none"`  
   - `x, y, size` 값에 `temp_` 값을 반영 후 삭제  

---

## **3. 영역 분할 (Split Area)**  
### ✅ **동작 방식**  
1. **우클릭 메뉴 → "Vertical Split" / "Horizontal Split" 선택**  
2. **또는 `Ctrl + 모서리 드래그 (내부 방향)`**  
3. **기존 Area 크기를 반으로 줄이고, 새로운 Area 추가**  
4. **새로운 경계선(Border) 추가**  

### ✅ **분할 과정**  
1. `is_splitable = true` 확인 후 실행  
2. `Vertical Split` → 기존 너비 절반으로 줄이고 새 Area 추가  
3. `Horizontal Split` → 기존 높이 절반으로 줄이고 새 Area 추가  
4. 경계선 추가 후 `workState = "none"`  

---

## **4. 영역 합치기 (Join Area)**  
### ✅ **동작 방식**  
- **우클릭 메뉴 → "Join Up/Down/Left/Right" 선택**  
- **또는 `Ctrl + 모서리 드래그 (외부 방향)`**  
- **기존 Area 제거 후 남은 Area 확장**  
- **경계선(Border) 제거**  

### ✅ **합치기 과정**  
1. `is_joinable = true` 확인 후 실행  
2. `main`과 `sub` Area 감지 후 `main`으로 병합  
3. `sub` 제거 후 `main` 확장  
4. 경계선(Border) 제거  
5. `workState = "none"`  

---

## **5. 마우스 이벤트 및 동작 감지**  
### ✅ **드래그 이벤트 감지 방식**  
| 마우스 위치 | 동작 |
|------------|------|
| **경계선에서 드래그 시작** | 크기 조절 |
| **경계선에서 `Ctrl + 내부 드래그`** | 영역 분할 |
| **경계선에서 `Ctrl + 외부 드래그`** | 영역 합치기 |

### ✅ **드래그 종료 후 동작 결과**  
| 마우스 위치 | 동작 |
|------------|------|
| 기존 영역 내부 | 분할 |
| 기존 영역 외부 | 합치기 |

---

## **🚀 전체 구현 흐름**  
1. **최초 실행 시 화면 전체 영역 및 4방향 경계선 생성**  
2. **우클릭 메뉴 → 윈도우 분할/합치기**  
3. **모서리 드래그 시 크기 조절**  
4. **`Ctrl + 모서리 드래그` → 방향에 따라 분할/합치기**  
5. **드래그 종료 시 변경 사항 적용**  

---

### **🔥 주요 개선 포인트 요약**  
✅ 속성 중복 제거 및 명확한 설명 추가  
✅ `Ctrl + 드래그` 방식을 통일하여 직관성 향상  
✅ `main` / `sub` 개념을 명확하게 구분  
✅ `temp_` 속성 활용 방식 일관성 유지  

이제 그대로 구현하면 될 거야! 🚀🔥